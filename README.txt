


     SQL запросы для 2 задания находятся в папке 'task №2'

     Все остальные папки относятся к 3 заданию.

     Код хранимых процедур FireBird, используемых в 3 задании:


*************************************************************************************************************************************************************
       Процедура выборки категорий для списка:
***********************************************************************************************************************************************************
               create or alter procedure SEL_KATEGORY
               returns (
                 KAT varchar(30) character set UNICODE_FSS)
               AS
              begin

                 /*Делаем выборку всех категорий с помощью цикла*/
                 for select a.name_kat
                 from KATEGORY a
                 into  :KAT do
                   begin
                    suspend;
                   end
              end


**************************************************************************************************************************************************
      Процедура проверки категории на уникальность:
*****************************************************************************************************************************************************8
    create or alter procedure CREATE_KATEGORY (
        NAME_KAT varchar(30) character set UNICODE_FSS)
     returns (
          INF_MES varchar(30) character set UNICODE_FSS,
          FLAG integer)
     AS
     declare  com_id_kat int;

     begin

         /*достаем ID категории по входящему имени категории*/
         com_id_kat = null;
         select a.id_kat
         from kategory a
         where  a.name_kat = :name_kat
         into:com_id_kat ;
         
        /*Проверяем входящее имя категории на пустое значение*/
       if(upper(name_kat) !='' )
       then
       begin
               /*Проверяем ID входящей категории на нулевое значение*/
              if (com_id_kat is null) then
                  begin
                  /*Выводим сообщение об успешном добавлении категории и значение флага для изменения цвета сообщения*/
                      inf_mes='Категория успешно добавлена';
                      flag=1;
                      suspend;
                  end
              else
                   begin
                   /*Выводим сообщение о том, что введенная пользователем категория уже существует и значение флага для изменения цвета сообщения*/
                      inf_mes='Категория уже существует';
                      flag=0;
                      suspend;
                   end
       end
       else 
       begin
          /*Выводим сообщение о необходимости ввода наименования категории  и значение флага для изменения цвета сообщения*/
       inf_mes='Введите наименование категории';
       flag=0;
       suspend;
       end

   end